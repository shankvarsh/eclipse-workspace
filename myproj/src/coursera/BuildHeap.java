package coursera;
import java.io.*;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.StringTokenizer;

public class BuildHeap {
	 private int[] data;
	    private int N;
	    private List<Swap> swaps;

	    private FastScanner in;
	    private PrintWriter out;
	    
	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		new BuildHeap().solve();
	}
	 private void readData() throws IOException {
	        int n = in.nextInt();
	        this.N = n;
	        data = new int[n];
	        for (int i = 0; i < n; ++i) {
	          data[i] = in.nextInt();
	        }
	    }

	    private void writeResponse() {
	        out.println(swaps.size());
	        for (Swap swap : swaps) {
	          out.println(swap.index1 + " " + swap.index2);
	        }
	    }

	    private void generateSwaps() {
	      swaps = new ArrayList<Swap>();
	      for (int k = N / 2; k >= 0; k--) {
	      	shiftDown(k);
	      }
	    }

	    private void shiftDown(int k) {
	    	while (2 * k  + 1 < N) {
	    		int j = 2 * k + 1;
	    		if (j < N - 1 && data[j] > data[j + 1])
	    			j++;
	    		if (data[k] <= data[j])
	    			break;
	    		exch(k, j);
	    		k = j;
	    	}
	    }

	    private void exch(int k, int j) {
	    	swaps.add(new Swap(k, j));
			int temp = data[k];
			data[k] = data[j];
			data[j] = temp;
	    }

	    public void solve() throws IOException {
	        in = new FastScanner();
	        out = new PrintWriter(new BufferedOutputStream(System.out));
	        readData();
	        generateSwaps();
	        writeResponse();
	        out.close();
	    }

	    static class Swap {
	        int index1;
	        int index2;

	        public Swap(int index1, int index2) {
	            this.index1 = index1;
	            this.index2 = index2;
	        }
	    }

	    static class FastScanner {
	        private BufferedReader reader;
	        private StringTokenizer tokenizer;

	        public FastScanner() {
	            reader = new BufferedReader(new InputStreamReader(System.in));
	            tokenizer = null;
	        }

	        public String next() throws IOException {
	            while (tokenizer == null || !tokenizer.hasMoreTokens()) {
	                tokenizer = new StringTokenizer(reader.readLine());
	            }
	            return tokenizer.nextToken();
	        }

	        public int nextInt() throws IOException {
	            return Integer.parseInt(next());
	        }
	    }
}
